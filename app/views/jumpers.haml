#jumpers.pagediv{:style => (@current_page == "jumpers" ? "" : "display: none")}
  #new-jumper{:style => "display: none; width: 600px; text-align: center"}
    
    %b{:style => 'font-size: 24px; text-align: center;background: #eee; display: block; margin: -10px -10px 0px -10px; padding: 5px'} New Jumper
    %form.newjumperform{:style => "margin-right: 150px; text-align: right; font-size: 16px"}
      %p
        %label{:style => "font-weight: bold"} Full Name
        %input{:type => "text", :size => "30", :name => "full_name", :style => "margin-left: 20px"}
      %p
        %label{:style => "font-weight: bold"} Nickname
        %input{:type => "text", :size => "30", :name => "nickname", :style => "margin-left: 20px"}
      %br
      %p
        %label{:style => "font-weight: bold"} Type
        %select{:style => "width: 177px; margin-left: 20px", :name => "type"}
          %option Student
          %option USPA Member
          %option Other
      %p
        %label{:style => "font-weight: bold"} Last Certified
        %input{:type => "text", :size => "30", :style => "margin-left: 20px", :name => "last_certified"}
      %br
      %p
        %label{:style => "font-weight: bold"} Initial Balance
        %input{:type => "text", :size => "30", :style => "margin-left: 20px", :name => "balance"}
      %br
      %p
        .checkcontainer{:onClick => "toggleAvailable();", :style => 'margin-right: 78px; position: relative'}
          .cover{:style => "display: block; position: absolute; margin: 0; width: 220px; height: 20px; opacity: 0"}
          %input.available{:type => "checkbox", :style => "margin-right: 10px;", :name => "available", :checked => "checked"}
          %label{:style => "font-weight: bold;"} Check In
      %br
      %p
        .left{:style => "display: inline; margin-right: 12px"}        
          %a.awesome.giant.green{:href => "#create-jumper", :onClick => "createJumper(this);"} Create Jumper
        .left{:style => "display: inline;margin-right: -13px"}
          %a.awesome.medium.gray{:href => "#", :onClick => "$.facebox.close()"} Cancel
  .box.box-100.altbox
    / .altbox for alternative box's color
    .boxin
      .header
        %h3 Jumpers
        %a.ico-plus{:href => "#new-jumper", :rel => "facebox", :style => "margin-left: 5px"}
        / Action button in the header of the box
        %ul
          / Tabs in the box's header
          %li
            %a.active{:href => "#"} All
          / .active for active tab
          %li
            %a{:href => "#"} jumpers
          %li
            %a{:href => "#"} Students
      .content
        %table{:cellspacing => "0"}
          %thead
            %tr
              %th{:style => "width: 8px"} &nbsp;
              %td Full Name
              %td Nickname
              %td.tc{:style => "width: 60px"} Balance ($)
              %td.tc Type
              %td.tc{:style => "width: 80px"} Cert. Expires
              %td.tc{:style => "width: 60px"} Rigs
              
              %td.tc Last Jump
              %td.tc Total Jumps
          %tbody.striped
            -30.times do |i|
              %tr{:class => ( i == 0 ? "first" : "")}
                %th
                  -if rand(2) > 0
                    %img{:src => "/css/img/available.png"}
                  -else
                    %img{:src => "/css/img/unavailable.png"}
                %td
                  %a{:href => "#"} Kent McCullough
                %td
                  %a{:href => "#"} Posideon
                %td.tr
                  -balance = (rand(10000) - 3000)/50.0
                  
                  %a.stat.vtip{:href => "#", :style => 'display: block; width: 50px; padding: 0; padding-right: 5px; margin: 0;margin-bottom: -5px; float: right', :title => "<b>Last 5 Transactions</b> <br> <b>7/21/10</b> PAC Jump  (<b>$20.00</b>) . . . . . .-30.00<br/><b>7/20/10</b> PAC Jump  (<b>$20.00</b>) . . . . . .-10.00<br/><b>7/20/10</b> PAC Jump  (<b>$20.00</b>) . . . . . . 10.00<br/><b>7/18/10</b> PAC Jump  (<b>$20.00</b>) . . . . . . 30.00<br/><b>7/18/10</b> PAC Jump  (<b>$20.00</b>) . . . . . . 50.00<br/>", :class => (balance > 0 ? "green" : "red")}= "%5.2f" % balance
                %td.tc Member
                %td.tc 2/9/13           
                %td.tc
                  - good_rigs = rand(4)
                  - caution_rigs = rand(3)
                  - bad_rigs = rand(2)
                  %a.stat.green{:href => "#", :style => (good_rigs > 0 ? "" : "visibility: hidden")}= good_rigs
                  %a.stat.yellow{:href => "#", :style => (caution_rigs > 0 ? "" : "visibility: hidden")}= caution_rigs
                  %a.stat.red{:href => "#", :style => (bad_rigs > 0 ? "" : "visibility: hidden")}= bad_rigs 
                %td.tc July 21st
                %td.tc= rand(42)**2

#footer

:javascript
  function createJumper(button){
    var form_data = $('.newjumperform:last').serialize();  
    alert(form_data);  
    $.post(('/ajax/new-jumper?'+form_data), function(data) {
      $.facebox.close();
      $('#jumpers').html(data);
    });
    return false;
  }
  function toggleAvailable(){
    box = $('.available')
    if (box.attr('checked')){
      $('.available').attr('checked', '');
    }else{
      $('.available').attr('checked', 'checked');
      
    }
  }
                